!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fizzwizvanilla=e():t.fizzwizvanilla=e()}(self,()=>(()=>{"use strict";var t={d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{ObjNavigator:()=>r,OptionStore:()=>o});class o{constructor(t={}){this.data=t}static as(t){return t instanceof o?t:new o(t)}set(t,e,o){const r=t.name;if(!r)throw new Error("Type must have a name");return this.data[r]||(this.data[r]={}),this.data[r][e]=o,this}get(t,e){let o=t;for(;o;){const t=o.name,r=this.data[t]?.[e];if(void 0!==r)return r;o=Object.getPrototypeOf(o)}}}class r{constructor(t={},e=null){if("object"!=typeof t||null===t)throw new Error("ObjNavigator can only wrap an object");this.data=t,this.parent=e}static from(t){return new r(t)}with(t){return this.within(t)}within(t){const e=r.normalizePath(t);let o=this.data;for(const r of e){if(!(r in o)||"object"!=typeof o[r]||null===o[r])throw new Error(`Path '${t}' does not exist or is not an object`);o=o[r]}return new r(o,this)}without(){return this.parent}get(t){const e=r.normalizePath(t);let o=this.data;for(const t of e){if(!(t in o))return;o=o[t]}return o}set(t,e,o=!0){const n=r.normalizePath(t);let i=this.data;for(let t=0;t<n.length-1;t++){const e=n[t];if(e in i&&null!=i[e]){if("object"!=typeof i[e])throw new Error(`Path segment '${e}' is not an object`)}else{if(!o)throw new Error(`Path segment '${e}' does not exist`);i[e]={}}i=i[e]}return i[n.at(-1)]=e,this}delete(t){const e=r.normalizePath(t),o=this.get(e.slice(0,-1));return o&&delete o[e.at(-1)],this}select(t){for(const[e,o]of Object.entries(this.data))t(e,o)||delete this.data[e];return this}static normalizePath(t){return Array.isArray(t)?t:t.split(".").filter(Boolean)}}return e})());